process ProcessOne = {

 service = MessageLogger {
    untracked vstring destinations = {"cout"}
    untracked PSet cout = {
      untracked  PSet default = { untracked int32 limit = 0 }
    }
 }

# Empty event source
     source = EmptyIOVSource {
         string timetype = "runnumber"
         untracked uint32 firstRun = 1
         untracked uint32 lastRun = 1
         uint32 interval = 1
       }


   // Database output service

   include "CondCore/DBCommon/data/CondDBCommon.cfi"
# to write in sqlite
   replace CondDBCommon.connect = "sqlite_file:calib.db"
   replace CondDBCommon.catalog = "file:PoolFileCatalog_calib.xml"

# to write into int2r_orcoff
#    replace CondDBCommon.connect = "oracle://cms_orcoff_int2r/CMS_COND_ECAL"
#    replace CondDBCommon.catalog = "relationalcatalog_oracle://cms_orcoff_int2r/CMS_COND_GENERAL"
#    replace CondDBCommon.DBParameters.authenticationPath="/afs/cern.ch/cms/DB/conddb"

   service = PoolDBOutputService {
       using CondDBCommon
       VPSet toPut = { { string record = "CSCGainsRcd" string tag = "ideal" } }
   }


es_source = CSCFakeGainsConditions{
#   untracked string fileNameBarrel = "/afs/cern.ch/user/m/malgeri/public/miscalib_ecal/miscalibcsa07_barrel.xml"
#   untracked string fileNameEndcap = "/afs/cern.ch/user/m/malgeri/public/miscalib_ecal/miscalibcsa07_endcap.xml"

}
es_prefer = CSCFakeGainsConditions{}

module WriteInDB = WriteGainsToDB{
   string NewTagRequest = "CSCGainsRcd"
}

 path p = {WriteInDB}
}