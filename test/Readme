
############ THIS IS A LIST OF CALIBRATION CODE FOR CSC CATHODE STRIPS and ANODE WIRES ############

OBS!!!  This is not yet according to CMSSW rules, but need to keep a copy for myself and whomever wants to look at this code !!!!

Usage of programs listed here:

0.1 Create your project area CMSSW_x_x_x by:
     scramv1 project CMSSW CMSSW_x_x_x
     cd CMSSW_x_x_x/src
     check out from CVS (cvs co ) the following packages:
      
      CondFormats/CSCObjects
      DataFormats/CSCDigi
      Geometry/CSCSimAlgo
      IORawData/CSCCommissioning
      CalibMuon/CSCCalibration   ( ***<- work in directory /test in this package ->*** )
	
0.1 execute !ev ( which means setenv `scramv1 runtime -csh` == set up necessary CMSSW environment ).

0.2 Copy .so files for ORACLE database transfer from:
      
       http://cmsdoc.cern.ch/cms/CSC/CERN/dbc_library/   (copy: libcondbc.so)
       http://cmsdoc.cern.ch/CSC/CERN/cscmap_library/    (copy: libcscmap.so)

    to your /CMSSW_x_x_x/lib/slc3_ia32_gcc323/ area.

0.3 Build all packages by executing "scramv1 b" in directories where a BuildFile is present or at the very top (in CMSSW_x_x_x/src).


1.  Make soft links to all of the executables so you can run from test, alternatively run them from 
    CMSSW_x_x_x/CMSSW_x_x_x/test/slc3_ia32_gcc323/  where executables will be created.

2.  Run executables in /test or CMSSW_x_x_x/CMSSW_x_x_x/test/slc3_ia32_gcc323/ directory using:
        
	    ./executable_name data_file.bin

3.  Calibration data files are usually in emuslice02:/data/test_results/   - look for recent .bin files (!)
    OR CASTOR. To get them from CASTOR (usually works from an lxplus account) : 
       
	     rfcp /castor/cern.ch/cms/emuslice/2005/filename .  

4.  Output of executables:  

         ROOT ntuples and arrays containing calibration constants which can be moved to online database.

5.  Any changes in the *.cpp files -> have to recompile again! (scramv1 b)

6.  At present you have to uncomment the lines: cdb->cdb_write(....) to be able o transfer the constants to DB.

  

    This is the status 2006.03.02 !!!!!

